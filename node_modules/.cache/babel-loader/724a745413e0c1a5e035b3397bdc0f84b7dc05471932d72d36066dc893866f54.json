{"ast":null,"code":"import React,{useState,useEffect}from'react';import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";function Analyzer(){var _response$popups;const[input,setInput]=useState('');const[response,setResponse]=useState(null);const[loading,setLoading]=useState(false);const[cluster,setCluster]=useState('');useEffect(()=>{const savedCluster=localStorage.getItem('userCluster');if(savedCluster)setCluster(savedCluster);},[]);const handleAnalysis=async()=>{if(!input.trim()){setResponse({output:'‚ùå ÿßŸÑÿ±ÿ¨ÿßÿ° ÿ•ÿØÿÆÿßŸÑ ŸÜÿµ ŸÑÿ™ÿ≠ŸÑŸäŸÑŸá',popups:[]});return;}setLoading(true);setResponse(null);try{const res=await fetch('https://heartbridge-unified3.onrender.com/api/predict',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({text:input,cluster})});const data=await res.json();setResponse(data||{output:'‚ö†Ô∏è ŸÑŸÖ Ÿäÿ™ŸÖ ÿßŸÑÿ≠ÿµŸàŸÑ ÿπŸÑŸâ ŸÜÿßÿ™ÿ¨.',popups:[]});}catch(_unused){setResponse({output:'‚ùå ÿ≠ÿØÿ´ ÿÆÿ∑ÿ£ ÿ£ÿ´ŸÜÿßÿ° ÿßŸÑÿßÿ™ÿµÿßŸÑ ÿ®ÿßŸÑÿ≥Ÿäÿ±ŸÅÿ±.',popups:[]});}finally{setLoading(false);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"app-container\",children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"\\u062A\\u062D\\u0644\\u064A\\u0644 \\u0627\\u0644\\u0639\\u0644\\u0627\\u0642\\u0629 - \",cluster&&\"\\u0646\\u0645\\u0637\\u0643: \".concat(cluster)]}),/*#__PURE__*/_jsx(\"textarea\",{className:\"input-box\",value:input,onChange:e=>setInput(e.target.value),placeholder:\"\\u0627\\u0646\\u0633\\u062E \\u0646\\u0635 \\u0627\\u0644\\u062D\\u0648\\u0627\\u0631 \\u0647\\u0646\\u0627...\",rows:6}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{className:\"analyze-button\",onClick:handleAnalysis,disabled:loading,children:loading?'...ÿ¨ÿßÿ±Ÿç ÿßŸÑÿ™ÿ≠ŸÑŸäŸÑ':'ÿßÿ®ÿØÿ£ ÿßŸÑÿ™ÿ≠ŸÑŸäŸÑ'}),(response===null||response===void 0?void 0:response.output)&&/*#__PURE__*/_jsx(\"div\",{className:\"result-box\",children:/*#__PURE__*/_jsx(\"pre\",{className:\"output-text\",children:response.output})}),(response===null||response===void 0?void 0:(_response$popups=response.popups)===null||_response$popups===void 0?void 0:_response$popups.length)>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"popup-box\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\uD83E\\uDDE0 \\u0645\\u0644\\u0627\\u062D\\u0638\\u0627\\u062A \\u0630\\u0643\\u064A\\u0629:\"}),/*#__PURE__*/_jsx(\"ul\",{children:response.popups.map((popup,i)=>/*#__PURE__*/_jsx(\"li\",{children:popup},i))})]})]});}export default Analyzer;","map":{"version":3,"names":["React","useState","useEffect","jsxs","_jsxs","jsx","_jsx","Analyzer","_response$popups","input","setInput","response","setResponse","loading","setLoading","cluster","setCluster","savedCluster","localStorage","getItem","handleAnalysis","trim","output","popups","res","fetch","method","headers","body","JSON","stringify","text","data","json","_unused","className","children","concat","value","onChange","e","target","placeholder","rows","onClick","disabled","length","map","popup","i"],"sources":["C:/Users/hp/Downloads/heartbridge-final/src/components/Analyzer.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\n\nfunction Analyzer() {\n  const [input, setInput] = useState('');\n  const [response, setResponse] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [cluster, setCluster] = useState('');\n\n  useEffect(() => {\n    const savedCluster = localStorage.getItem('userCluster');\n    if (savedCluster) setCluster(savedCluster);\n  }, []);\n\n  const handleAnalysis = async () => {\n    if (!input.trim()) {\n      setResponse({ output: '‚ùå ÿßŸÑÿ±ÿ¨ÿßÿ° ÿ•ÿØÿÆÿßŸÑ ŸÜÿµ ŸÑÿ™ÿ≠ŸÑŸäŸÑŸá', popups: [] });\n      return;\n    }\n\n    setLoading(true);\n    setResponse(null);\n\n    try {\n      const res = await fetch('https://heartbridge-unified3.onrender.com/api/predict', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ text: input, cluster })\n      });\n\n      const data = await res.json();\n      setResponse(data || { output: '‚ö†Ô∏è ŸÑŸÖ Ÿäÿ™ŸÖ ÿßŸÑÿ≠ÿµŸàŸÑ ÿπŸÑŸâ ŸÜÿßÿ™ÿ¨.', popups: [] });\n    } catch {\n      setResponse({ output: '‚ùå ÿ≠ÿØÿ´ ÿÆÿ∑ÿ£ ÿ£ÿ´ŸÜÿßÿ° ÿßŸÑÿßÿ™ÿµÿßŸÑ ÿ®ÿßŸÑÿ≥Ÿäÿ±ŸÅÿ±.', popups: [] });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"app-container\">\n      <h2>ÿ™ÿ≠ŸÑŸäŸÑ ÿßŸÑÿπŸÑÿßŸÇÿ© - {cluster && `ŸÜŸÖÿ∑ŸÉ: ${cluster}`}</h2>\n\n      <textarea\n        className=\"input-box\"\n        value={input}\n        onChange={(e) => setInput(e.target.value)}\n        placeholder=\"ÿßŸÜÿ≥ÿÆ ŸÜÿµ ÿßŸÑÿ≠Ÿàÿßÿ± ŸáŸÜÿß...\"\n        rows={6}\n      />\n\n      <br />\n      <button className=\"analyze-button\" onClick={handleAnalysis} disabled={loading}>\n        {loading ? '...ÿ¨ÿßÿ±Ÿç ÿßŸÑÿ™ÿ≠ŸÑŸäŸÑ' : 'ÿßÿ®ÿØÿ£ ÿßŸÑÿ™ÿ≠ŸÑŸäŸÑ'}\n      </button>\n\n      {response?.output && <div className=\"result-box\"><pre className=\"output-text\">{response.output}</pre></div>}\n\n      {response?.popups?.length > 0 && (\n        <div className=\"popup-box\">\n          <strong>üß† ŸÖŸÑÿßÿ≠ÿ∏ÿßÿ™ ÿ∞ŸÉŸäÿ©:</strong>\n          <ul>\n            {response.popups.map((popup, i) => <li key={i}>{popup}</li>)}\n          </ul>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default Analyzer;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}